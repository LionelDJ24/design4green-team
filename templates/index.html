<!DOCTYPE html><html><head>
  <title>R√©sum√© √©co-responsable - Design4Green</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"></head><body>
  <h1>üå± Design4Green - R√©sumeur l√©ger</h1>
  <form id="form">
    <textarea id="text" placeholder="Collez votre texte ici..."></textarea>
    <br>
    <label><input type="checkbox" id="optimized"> Mode optimis√©</label>
    <button type="button" onclick="summarize()">R√©sumer</button>
  </form>
  <div id="result"></div>

  <script>async function summarize() {
      const text = document.getElementById("text").value;
      const optimized = document.getElementById("optimized").checked;
      const resultDiv = document.getElementById("result");

      resultDiv.innerHTML = "<p>‚è≥ G√©n√©ration du r√©sum√©...</p>";

      const response = await fetch("/summarize", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({text, optimized})
      });

      const data = await response.json();
      resultDiv.innerHTML = `
        <p><b>R√©sum√© :</b> ${data.summary}</p>
        <p>Mode : ${data.optimized ? "Optimis√© ‚ö°" : "Baseline üß†"}</p>
        <p>Latence : ${data.latency_ms} ms</p>
        <p>√ânergie : ${data.energy_wh} Wh</p>
        <p>M√©moire : ${data.memory_mb} MB</p>
      `;
    }
  </script></body></html>